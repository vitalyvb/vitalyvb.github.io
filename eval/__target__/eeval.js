'use strict';var time={};import{AssertionError,AttributeError,BaseException,DeprecationWarning,Exception,IndexError,IterableError,KeyError,NotImplementedError,RuntimeWarning,StopIteration,UserWarning,ValueError,Warning,__JsIterator__,__PyIterator__,__Terminal__,__add__,__and__,__call__,__class__,__envir__,__eq__,__floordiv__,__ge__,__get__,__getcm__,__getitem__,__getslice__,__getsm__,__gt__,__i__,__iadd__,__iand__,__idiv__,__ijsmod__,__ilshift__,__imatmul__,__imod__,__imul__,__in__,__init__,__ior__,
__ipow__,__irshift__,__isub__,__ixor__,__jsUsePyNext__,__jsmod__,__k__,__kwargtrans__,__le__,__lshift__,__lt__,__matmul__,__mergefields__,__mergekwargtrans__,__mod__,__mul__,__ne__,__neg__,__nest__,__or__,__pow__,__pragma__,__proxy__,__pyUseJsNext__,__rshift__,__setitem__,__setproperty__,__setslice__,__sort__,__specialattrib__,__sub__,__super__,__t__,__terminal__,__truediv__,__withblock__,__xor__,abs,all,any,assert,bool,bytearray,bytes,callable,chr,copy,deepcopy,delattr,dict,dir,divmod,enumerate,
filter,float,getattr,hasattr,input,int,isinstance,issubclass,len,list,map,max,min,object,ord,pow,print,property,py_TypeError,py_iter,py_metatype,py_next,py_reversed,py_typeof,range,repr,round,set,setattr,sorted,str,sum,tuple,zip}from"./org.transcrypt.__runtime__.js";import{Apply,Closure,Def,EvalList,Lambda,List,Module,Nil,Num,Str,Sym,Token1,_List,_Value,relist,tag}from"./etypes.js";import*as __module_time__ from"./time.js";__nest__(time,"",__module_time__);var __name__="eeval";export var reduce=function(func,
iterable,res){if(typeof res=="undefined"||res!=null&&res.hasOwnProperty("__kwargtrans__"))var res=null;var iterator=py_iter(iterable);if(res===null)var res=py_next(iterator);for(var arg of iterator)var res=func(res,arg);return res};export var log=function(s){try{console.log(s)}catch(__except0__){print(s)}};export var deque=__class__("deque",[object],{__module__:__name__,get __init__(){return __get__(this,function(self,a,maxlen){if(typeof a=="undefined"||a!=null&&a.hasOwnProperty("__kwargtrans__"))var a=
null;if(typeof maxlen=="undefined"||maxlen!=null&&maxlen.hasOwnProperty("__kwargtrans__"))var maxlen=0;if(a===null)var a=[];else if(isinstance(a,deque))var a=a.lst;self.lst=list(a);self._maxlen=maxlen;for(var x of["remove","__repr__","__str__","__reduce_ex__","__reduce__","__getitem__"])setattr(self,x,getattr(self.lst,x))})},get __len__(){return __get__(this,function(self){return len(self.lst)})},get __iter__(){return __get__(this,function(self){return self.lst.__iter__()})},[Symbol.iterator](){return this.__iter__()},
get py_pop(){return __get__(this,function(self){return self.lst.py_pop()})},get popleft(){return __get__(this,function(self){var x=self.lst[0];delete self.lst[0];return x})},get extend(){return __get__(this,function(self,other){if(isinstance(other,deque))var other=other.lst;for(var i of other)self.append(i)})},get append(){return __get__(this,function(self,item){if(self._maxlen>0)if(len(self.lst)>=self._maxlen)delete self.lst[0];self.lst.append(item)})}});export var ENil=function(){return Nil(0,0)};
export var ESym=function(v){return Sym(0,0,v)};export var ENum=function(v){return Num(0,0,v)};export var EList=function(v){return EvalList(0,0,v)};export var VList=function(v){return List(0,0,v)};export var ELambda=function(v,e){return Lambda(0,0,v,e)};export var EvalRuntimeError=__class__("EvalRuntimeError",[Exception],{__module__:__name__});export var EvalQuoted=__class__("EvalQuoted",[object],{__module__:__name__,start:null,end:null,get format(){return __get__(this,function(self,align){return align(self.__class__.__name__)})}});
export var _Rest=__class__("_Rest",[EvalQuoted],{__module__:__name__});export var _Begin=__class__("_Begin",[EvalQuoted],{__module__:__name__});export var _Call=__class__("_Call",[EvalQuoted],{__module__:__name__});export var _CallCC=__class__("_CallCC",[EvalQuoted],{__module__:__name__});export var _Eval=__class__("_Eval",[EvalQuoted],{__module__:__name__});export var _Quote=__class__("_Quote",[EvalQuoted],{__module__:__name__});export var _Define=__class__("_Define",[EvalQuoted],{__module__:__name__});
export var _EIf=__class__("_EIf",[EvalQuoted],{__module__:__name__});export var _DefMacro=__class__("_DefMacro",[EvalQuoted],{__module__:__name__});export var _CallMacro=__class__("_CallMacro",[EvalQuoted],{__module__:__name__});export var Rest=_Rest();export var Begin=_Begin();export var Call=_Call();export var CallCC=_CallCC();export var Eval=_Eval();export var Quote=_Quote();export var Define=_Define();export var EIf=_EIf();export var DefMacro=_DefMacro();export var CallMacro=_CallMacro();export var Macro=
__class__("Macro",[object],{__module__:__name__,get __init__(){return __get__(this,function(self,exp){self.exp=exp})}});export var Frame=__class__("Frame",[object],{__module__:__name__,get __init__(){return __get__(this,function(self,env,data,cont,descr,src){if(typeof descr=="undefined"||descr!=null&&descr.hasOwnProperty("__kwargtrans__"))var descr="";if(typeof src=="undefined"||src!=null&&src.hasOwnProperty("__kwargtrans__"))var src=null;self.descr="";self.env=env;self.data=data;self.cont=cont;if(src&&
hasattr(src,"start")&&src.start)self.descr+="{:3d}:{:2d} ".format(src.start.line,src.start.column);else self.descr+="       ";if(descr)self.descr+=descr})},get __repr__(){return __get__(this,function(self){return repr(self.data)})}});export var Stats=__class__("Stats",[object],{__module__:__name__,get __init__(){return __get__(this,function(self){self.py_clear()})},get py_clear(){return __get__(this,function(self){self._max_recurs=0;self._max_stack=0;self._max_env=0})},get recurs(){return __get__(this,
function(self,v){if(v>self._max_recurs)self._max_recurs=v})},get envd(){return __get__(this,function(self,e){if(e._cnt>self._max_env)self._max_env=e._cnt})},get stack(){return __get__(this,function(self,v){if(v>self._max_stack)self._max_stack=v})},get print(){return __get__(this,function(self){print("---------------");print("VM stats:");print("    Max Python recursion: {}".format(self._max_recurs));print("    Max VM stack length:  {}".format(self._max_stack));print("    Max VM ENV length:    {}".format(self._max_env))})}});
export var VMEval=__class__("VMEval",[object],{__module__:__name__,get __init__(){return __get__(this,function(self,trace){if(typeof trace=="undefined"||trace!=null&&trace.hasOwnProperty("__kwargtrans__"))var trace=0;self.trace_size=trace;self.stats=Stats();self.py_clear()})},get py_clear(){return __get__(this,function(self){self.stats.py_clear();self.traces=deque(__kwargtrans__({maxlen:self.trace_size}));self.recurs=0})},get add_trace_point(){return __get__(this,function(self,exp,env){if(self.trace_size<=
0)return;if(hasattr(exp,"start")&&exp.start){var l=exp.start.buffer.splitlines();var ln=exp.start.line;var cn=exp.start.column;if(isinstance(exp,Sym)&&env.isin(exp.v)&&isinstance(env.py_get(exp.v),tuple([Num,Str])))var val="--  {} = {}".format(exp.v,env.py_get(exp.v).v);else var val="";var txt=[];if(ln-1>=0)txt.append("{:3}: {}".format(ln-1,l[ln-1]));txt.append("{:3}: {}".format(ln,l[ln]));txt.append("     "+" "*cn+"^"+val);if(ln+1<len(l))txt.append("{:3}: {}".format(ln+1,l[ln+1]));self.traces.append(txt)}else self.traces.append([str(exp)])})},
get dump_trace(){return __get__(this,function(self){var pos=len(self.traces);print("Dumping trace:");while(self.traces){log("    {}:".format(pos));var txt=self.traces.popleft();log("\n".join(function(){var __accu0__=[];for(var l of txt)__accu0__.append("        "+l);return py_iter(__accu0__)}()));pos--}})},get __call__(){return __get__(this,function(self,env,exp){self.recurs++;self.stats.recurs(self.recurs);if(self.recurs>5)print("eval1 recursion level: {}".format(self.recurs));if(isinstance(exp,
Module))var exp=exp.v;var stack=deque();try{if(isinstance(exp,list)){var res=[];for(var e of exp){var v=eval2(self,stack,env.copy(),e);if(!isinstance(v,Nil))res.append(v)}return res}return eval2(self,stack,env,exp)}catch(__except0__){if(self.trace_size>0)self.dump_trace();__except0__.__cause__=null;throw __except0__;}finally{self.recurs--}})}});export var eval1=function(env,exp){var e=VMEval(__kwargtrans__({trace:10}));return e.__call__(env,exp)};export var eval2=function(vm,stack,env,exp1){var s_push=
function(env,cont,data,descr,src){if(typeof descr=="undefined"||descr!=null&&descr.hasOwnProperty("__kwargtrans__"))var descr=null;if(typeof src=="undefined"||src!=null&&src.hasOwnProperty("__kwargtrans__"))var src=null;stack.append(Frame(env,data,cont,descr,src))};var s_reset=function(st){while(len(stack)>0)stack.py_pop();stack.extend(st)};var s_pop=function(){var frame=stack.py_pop();return frame};var op_list=function(env,exp){if(len(exp.v)==0)return tuple([VList([])]);s_push(env,op_list2,tuple([exp,
[]]),__kwargtrans__({descr:"List:1",src:exp}));return exp.v[0]};var op_list2=function(env,exp,_cexp,cdata,frame){var __left0__=cdata;var cdata=__left0__[0];var acc=__left0__[1];var acc=list(acc);acc.append(exp);if(len(acc)>=len(cdata.v))return tuple([VList(acc)]);s_push(env,op_list2,tuple([cdata,acc]),__kwargtrans__({descr:"List:N",src:exp}));return cdata.v[len(acc)]};var op_pylist=function(env,exp){if(len(exp)>1)s_push(env,op_pylist2,tuple([exp,[]]),__kwargtrans__({descr:"pylist:1",src:exp}));return exp[0]};
var op_pylist2=function(env,exp,_cexp,cdata,frame){var __left0__=cdata;var cdata=__left0__[0];var acc=__left0__[1];var acc=list(acc);acc.append(exp);if(len(acc)>=len(cdata)-1)return cdata[len(acc)];s_push(env,op_pylist2,tuple([cdata,acc]),__kwargtrans__({descr:"pylist:N",src:exp}));return cdata[len(acc)]};var callcc=function(envn){var res=envn.py_get("&cont");var __left0__=envn.py_get("&closure");var stack0=__left0__[0];var env0=__left0__[1];s_reset(stack0);return tuple([res])};var op_eval=function(env,
f,_cexp,_cdata,frame){if(isinstance(f,tuple([List,EvalList])))var f=f.v;return f};var op_define=function(env,f,_cexp,cdata,frame){env.set(cdata.v,f);return tuple([ENil()])};var op_macro=function(env,f,_cexp,cdata,frame){env.set("!"+cdata.v,Macro(f));return tuple([ENil()])};var op_callmacro=function(env,f,_cexp,cdata,frame){return Apply(0,0,env.py_get("!"+cdata.v).exp,list(function(){var __accu0__=[];for(var x of f.v)__accu0__.append(Apply(0,0,Quote,[x]));return py_iter(__accu0__)}()))};var op_eif2=
function(env,f,_cexp,cdata,frame){if(!isinstance(f,Nil))var exp=cdata[0];else if(len(cdata)>1)var exp=cdata[1];else return ENil();env.weaken();return Apply(0,0,exp,[])};var op_apply=function(env,exp){s_push(env,op_apply2,exp,__kwargtrans__({descr:"apply:E",src:exp}));return exp.sym};var op_apply2=function(env,f,_cexp,cdata,frame){if(f===Begin)return cdata.args;if(f===EIf){if(!__in__(len(cdata.args),tuple([2,3]))){var __except0__=EvalRuntimeError("&if requires 2 or 3 arguments");__except0__.__cause__=
null;throw __except0__;}s_push(env,op_eif2,cdata.args.__getslice__(1,null,1),__kwargtrans__({descr:"apply:if",src:cdata}));return cdata.args[0]}if(f===Define){if(len(cdata.args)<2){var __except0__=EvalRuntimeError("define requires 2 arguments or more");__except0__.__cause__=null;throw __except0__;}s_push(env,op_define,cdata.args[0],__kwargtrans__({descr:"apply:def",src:cdata}));return cdata.args.__getslice__(1,null,1)}if(f===DefMacro){if(len(cdata.args)<2){var __except0__=EvalRuntimeError("macro requires 2 arguments - symbol and lambda");
__except0__.__cause__=null;throw __except0__;}s_push(env,op_macro,cdata.args[0],__kwargtrans__({descr:"apply:mac",src:cdata}));return cdata.args.__getslice__(1,null,1)}if(f===CallMacro){if(len(cdata.args)!=2){var __except0__=EvalRuntimeError("callmacro requires 2 arguments - symbol and args list");__except0__.__cause__=null;throw __except0__;}s_push(env,op_callmacro,cdata.args[0],__kwargtrans__({descr:"apply:mc",src:cdata}));return cdata.args[1]}if(f===Eval){if(len(cdata.args)!=1){var __except0__=
EvalRuntimeError("eval requires 1 argument of list()");__except0__.__cause__=null;throw __except0__;}s_push(env,op_eval,null,__kwargtrans__({descr:"apply:eval",src:cdata}));return cdata.args}if(f===Quote){if(len(cdata.args)<1){var __except0__=EvalRuntimeError("quote requires at least 1 argument");__except0__.__cause__=null;throw __except0__;}if(len(cdata.args)==1)return tuple([cdata.args[0]]);return tuple([VList(cdata.args)])}if(f===CallCC){if(len(cdata.args)!=1){var __except0__=EvalRuntimeError("call/cc requires 1 argument of lambda(x)");
__except0__.__cause__=null;throw __except0__;}var stack0=deque(stack);var env0=env.copy();var cc=Closure(tuple([stack0,env0]),VList([ESym("&cont")]),callcc);var ret=Apply(0,0,cdata.args[0],[cc]);return ret}if(isinstance(f,Macro))return Apply(0,0,Eval,[Apply(0,0,f.exp,list(function(){var __accu0__=[];for(var x of cdata.args)__accu0__.append(Apply(0,0,Quote,[x]));return py_iter(__accu0__)}()))]);var __break0__=false;for(var [n,x]of enumerate(f.params.v))if(x.v=="&rest"){var p=n;var args=f.params.v.__getslice__(0,
p,1);var argv=f.params.v[p+1];__break0__=true;break}if(!__break0__){var args=f.params.v;var argv=null}var ctx=tuple([f,args,argv]);var largs=cdata.args;s_push(env,op_apply3,ctx,__kwargtrans__({descr:"apply:A",src:cdata}));if(isinstance(largs,list))return EList(largs);if(isinstance(largs,Sym))return EList([largs]);var __except0__=Exception("unexpected arguments type '{}' when calling '{}'".format(largs,f));__except0__.__cause__=null;throw __except0__;};var op_apply3=function(env,exp,_cexp,cdata,frame){var __left0__=
cdata;var f=__left0__[0];var args=__left0__[1];var argv=__left0__[2];if(len(args)>len(exp.v)){var __except0__=Exception("not enough arguments to call {}".format(f));__except0__.__cause__=null;throw __except0__;}if(argv===null&&len(args)<len(exp.v)){var __except0__=Exception("too many arguments to call {}, have {}, need {}".format(f,len(exp.v),len(args)));__except0__.__cause__=null;throw __except0__;}var alls=list(args);if(argv!==null)alls.append(argv);if(isinstance(f,Closure))var env=f.env[1];var env=
Env(env,function(){var __accu0__=[];for(var x of alls)__accu0__.append(x.v);return __accu0__}());frame.env=env;for(var [arg,val]of zip(args,exp.v))env.set(arg.v,val);if(argv!==null)env.set(argv.v,VList(exp.v.__getslice__(len(args),null,1)));if(isinstance(f,Closure))env.set("&closure",tuple([f.env[0],env]));return f.exp};var op_callable=function(env,exp){return exp(env)};var exp=exp1;while(true){while(true){if(len(stack)>40){print("my stack size: {}".format(len(stack)));for(var x of stack)print("{:12s} - {}".format(x.descr,
x));1/0}vm.stats.stack(len(stack));vm.stats.envd(env);vm.add_trace_point(exp,env);if(isinstance(exp,Sym)){if(env.isin("!"+exp.v))var exp=env.py_get("!"+exp.v);else var exp=env.py_get(exp.v);break}if(isinstance(exp,tuple([Nil,Num,Str,Closure,EvalQuoted,List])))break;if(isinstance(exp,Apply)){var exp=op_apply(env,exp);continue}if(isinstance(exp,EvalList)){var exp=op_list(env,exp);continue}if(isinstance(exp,py_typeof(tuple([0])))){var exp=exp[0];break}if(callable(exp)){var exp=op_callable(env,exp);continue}if(isinstance(exp,
list)&&exp==[]){var exp=ENil();break}if(isinstance(exp,list)){var exp=op_pylist(env,exp);continue}if(isinstance(exp,Lambda)){var env0=env.copy();var exp=Closure(tuple([null,env0]),exp.params,exp.exp);break}var __except0__=Exception("Eval '{}' not implemented".format(py_typeof(exp)));__except0__.__cause__=null;throw __except0__;}if(len(stack)==0)break;var frame=s_pop();var exp=frame.cont(frame.env,exp,null,frame.data,frame);var env=frame.env}return exp};export var Env=__class__("Env",[object],{__module__:__name__,
get __init__(){return __get__(this,function(self,prev,local,cnt){if(typeof prev=="undefined"||prev!=null&&prev.hasOwnProperty("__kwargtrans__"))var prev=null;if(typeof local=="undefined"||local!=null&&local.hasOwnProperty("__kwargtrans__"))var local=null;if(typeof cnt=="undefined"||cnt!=null&&cnt.hasOwnProperty("__kwargtrans__"))var cnt=1;self._weak=false;if(prev===null){self._globals=dict({});self._init()}else{self._globals=prev._globals;var cnt=prev._cnt+1;if(prev._weak)var prev=prev._prev_env}self._prev_env=
prev;self._locals=dict({});if(local!==null)for(var k of local)self._locals[k]=null;self._cnt=cnt})},get copy(){return __get__(this,function(self){var e=Env();e._globals=self._globals;e._locals=dict({});for(var k of list(self._locals.py_keys()))e._locals[k]=self._locals[k];e._prev_env=self._prev_env!==null?self._prev_env.copy():null;return e})},get _init(){return __get__(this,function(self){self._globals["&rest"]=Rest;self._globals["begin"]=Begin;self._globals["call"]=Call;self._globals["call/cc"]=
CallCC;self._globals["eval"]=Eval;self._globals["quote"]=Quote;self._globals["define"]=Define;self._globals["defmacro"]=DefMacro;self._globals["callmacro"]=CallMacro;self._globals["&if"]=EIf})},get weaken(){return __get__(this,function(self){self._weak=true})},get search(){return __get__(this,function(self,s,py_default){if(__in__(s,self._locals))return self._locals;if(self._prev_env!==null)return self._prev_env.search(s,py_default);if(__in__(s,self._globals))return self._globals;return py_default})},
get set(){return __get__(this,function(self,s,v){var py_default=self._globals;var d=self.search(s,py_default);d[s]=v})},get py_get(){return __get__(this,function(self,s){var d=self.search(s,null);if(d!==null)return d[s];else{var __except0__=Exception("symbol '{}' not defined".format(s));__except0__.__cause__=null;throw __except0__;}})},get isin(){return __get__(this,function(self,i){var d=self.search(i,null);return d!==null&&__in__(i,d)})},get add_builtin(){return __get__(this,function(self,tr,s,
ar,func,rawfunc){if(typeof func=="undefined"||func!=null&&func.hasOwnProperty("__kwargtrans__"))var func=null;if(typeof rawfunc=="undefined"||rawfunc!=null&&rawfunc.hasOwnProperty("__kwargtrans__"))var rawfunc=null;var args=[];var argv=null;for(var [i,v]of enumerate(ar)){if(v=="&rest")break;args.append(v)}if(v=="&rest")var argv=ar[i+1];if(argv!==null)args.append(argv);if(func!==null){var value=function(env){var fargs=list(map(function __lambda__(v){return env.py_get(v)},args));return tuple([tr(func(...tuple(fargs)))])};
var val=ELambda(VList(list(map(ESym,ar))),value)}else if(rawfunc!==null)var val=rawfunc;self._globals[s]=val})}});export var get_prelude_env=function(){var new_env=Env();var define=new_env.add_builtin;var _id=function __lambda__(x){return x};define(_id,"debug",["&rest","args"],function __lambda__(args){return tuple([ENil(),print(args.v)])[0]});define(_id,"display",["&rest","args"],function __lambda__(args){return tuple([ENil(),print(" ".join(function(){var __accu0__=[];for(var x of args.v)__accu0__.append(x.v);
return py_iter(__accu0__)}()),__kwargtrans__({end:""}))])[0]});define(_id,"sleep",["&rest","args"],function __lambda__(args){return tuple([ENil(),time.sleep(.5)])[0]});define(ENum,"+",["&rest","args"],function __lambda__(args){return reduce(function __lambda__(a,b){return a+b.v},args.v,0)});define(ENum,"*",["&rest","args"],function __lambda__(args){return reduce(function __lambda__(a,b){return a*b.v},args.v,1)});define(ENum,"-",["i","&rest","args"],function __lambda__(i,args){return reduce(function __lambda__(a,
b){return a-b.v},args.v,i.v)});var unzero=function(n){if(n==0){var __except0__=EvalRuntimeError("division by zero");__except0__.__cause__=null;throw __except0__;}return n};define(ENum,"/",["i","&rest","args"],function __lambda__(i,args){return reduce(function __lambda__(a,b){return Math.floor(a/unzero(b.v))},args.v,i.v)});define(_id,"eq?",["a","b"],function __lambda__(a,b){return[ENil(),VList([])][a.v==b.v?1:0]});define(_id,"list",["&rest","args"],function __lambda__(args){return args});var unempty=
function(n){if(len(n)==0){var __except0__=EvalRuntimeError("empty list");__except0__.__cause__=null;throw __except0__;}return n};define(_id,"first",["lst"],function __lambda__(lst){return unempty(lst.v)[0]});define(_id,"rest",["lst"],function __lambda__(lst){return VList(unempty(lst.v).__getslice__(1,null,1))});var _cons=function(x,xs){if(isinstance(xs,Nil))return VList([x]);return VList([x]+xs.v)};define(_id,"cons",["x","xs"],_cons);define(_id,"list?",["x"],function __lambda__(x){return[ENil(),VList([])][isinstance(x,
List)?1:0]});define(ENum,"length",["lst"],function __lambda__(lst){return len(lst.v)});define(_id,"empty?",["lst"],function __lambda__(lst){return[ENil(),VList([])][isinstance(lst,List)&&len(lst.v)==0?1:0]});define(_id,"elem",["lst","idx"],function __lambda__(lst,idx){return lst.v[idx.v]});define(_id,"&apply",["exp","args"],function __lambda__(exp,args){return Apply(0,0,exp,args.v)});define(_id,"&apply?",["app"],function __lambda__(app){return[ENil(),VList([])][isinstance(app,Apply)?q:0]});define(_id,
"&apply.exp",["app"],function __lambda__(app){return app.sym});define(_id,"&apply.args",["app"],function __lambda__(app){return VList(app.args)});var _app_tolist=function(app){if(isinstance(app,Apply)){var l=[app.sym];l.extend(app.args);return VList(l)}return app};define(_id,"&apply.tolist",["app"],_app_tolist);define(_id,"&list.elist",["lst"],function __lambda__(lst){return EList(lst.v)});define(_id,"&list.eval",["lst"],function __lambda__(lst){return lst.v});define(_id,"&lambda",["args","exp"],
function __lambda__(args,exp){return Lambda(0,0,args,exp)});define(_id,"&format",["exp"],function __lambda__(exp){return tuple([ENil(),print(exp.format())])[0]});var eif=function(env){if(!isinstance(env.py_get("exp"),Nil))var exp=env.py_get("fthen");else{var felse=env.py_get("felse").v;if(len(felse)==1)var exp=felse[0];else if(len(felse)>1){var __except0__=EvalRuntimeError("too may elses in if");__except0__.__cause__=null;throw __except0__;}else return ENil()}return exp.exp};return new_env};export var _lmb_If=
function(x){return Lambda(0,0,VList([]),x)};export var If=function(_s,_e,x,t,e){if(typeof e=="undefined"||e!=null&&e.hasOwnProperty("__kwargtrans__"))var e=null;if(e===null)return Apply(0,0,ESym("&if"),[x,_lmb_If(t)]);return Apply(0,0,ESym("&if"),[x,_lmb_If(t),_lmb_If(e)])};

//# sourceMappingURL=eeval.map